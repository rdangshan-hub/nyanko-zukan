bplist00—_WebMainResource’	
^WebResourceURL_WebResourceTextEncodingName_WebResourceData_WebResourceMIMEType_WebResourceFrameName_
jdata:text/html;base64,PCFkb2N0eXBlIGh0bWw+PGh0bWwgbGFuZz1qYT48bWV0YSBjaGFyc2V0PXV0Zi04Pgo8dGl0bGU+TnlhbmtvIExvYWRlcjwvdGl0bGU+CjxtZXRhIG5hbWU9dmlld3BvcnQgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLGluaXRpYWwtc2NhbGU9MSI+CjxzdHlsZT5ib2R5e2ZvbnQtZmFtaWx5Oi1hcHBsZS1zeXN0ZW0sQmxpbmtNYWNTeXN0ZW1Gb250LCJTZWdvZSBVSSIsUm9ib3RvLCJOb3RvIFNhbnMgSlAiLHNhbnMtc2VyaWY7cGFkZGluZzoxNnB4fQpoMXttYXJnaW46MCAwIDEycHh9IC5ib3h7Ym9yZGVyOjFweCBzb2xpZCAjZGRkO2JvcmRlci1yYWRpdXM6MTBweDtwYWRkaW5nOjEycHh9CmJ1dHRvbixpbnB1dFt0eXBlPWZpbGVde2ZvbnQtc2l6ZToxNnB4fSAucm93e2Rpc3BsYXk6ZmxleDtnYXA6OHB4O2FsaWduLWl0ZW1zOmNlbnRlcjtmbGV4LXdyYXA6d3JhcH0KdGV4dGFyZWF7d2lkdGg6MTAwJTtoZWlnaHQ6MTgwcHg7bWFyZ2luLXRvcDo4cHg7Zm9udC1mYW1pbHk6bW9ub3NwYWNlfQouc21hbGx7Y29sb3I6IzY2Njtmb250LXNpemU6MTNweDttYXJnaW4tdG9wOjZweH08L3N0eWxlPgo8aDE+8J+QsSDjgavjgoPjgpPjgZPlm7PpkZEg44Ot44O844OA44O8PC9oMT4KPGRpdiBjbGFzcz1ib3g+CiAgPHA+5Lul5LiL44Gu44Gp44Gh44KJ44GL44Gn6Kqt44G/6L6844KB44G+44GZ77yaPC9wPgogIDxvbD4KICAgIDxsaT48Yj7jg5XjgqHjgqTjg6vjgYvjgonoqq3jgb/ovrzjgb88L2I+77yI5o6o5aWo77yJ4oCmIOS4i+OBruODnOOCv+ODs+OBpyA8Y29kZT5ueWFua29fZmlsZV9zYXZlLmh0bWw8L2NvZGU+IOOCkumBuOOBtjwvbGk+CiAgICA8bGk+PGI+6LK844KK5LuY44GR44Gm6Kqt44G/6L6844G/PC9iPuKApiDkuIvjga7jg4bjgq3jgrnjg4jmrITjgatIVE1M44KS6LK844KK44CB77y76LK844KK5LuY44GR44Gm6ZaL44GP77y9PC9saT4KICA8L29sPgogIDxkaXYgY2xhc3M9cm93PgogICAgPGlucHV0IGlkPWYgdHlwZT1maWxlIGFjY2VwdD0idGV4dC9odG1sIj4KICAgIDxidXR0b24gaWQ9YmY+44OV44Kh44Kk44Or44GL44KJ6ZaL44GPPC9idXR0b24+CiAgPC9kaXY+CiAgPGRpdiBjbGFzcz1zbWFsbD7igLsgaVBob25lL2lQYWTjga5TYWZhcmnjgafjgoLli5XjgY3jgb7jgZnjgILplovjgYTjgZ/lvozjga/jgIzlhbHmnIkg4oaSIOODm+ODvOODoOeUu+mdouOBq+i/veWKoOOAjeOBp+OCouODl+ODquWMluOBp+OBjeOBvuOBmeOAgjwvZGl2PgogIDx0ZXh0YXJlYSBpZD10YSBwbGFjZWhvbGRlcj0i44GT44GT44GrSFRNTOWFqOS9k+OCkuiyvOOCiuS7mOOBkeOBpuOCgk9L77yIbnlhbmtvX2ZpbGVfc2F2ZS5odG1sIOOBruS4rei6q++8iSI+PC90ZXh0YXJlYT4KICA8ZGl2IGNsYXNzPXJvdz4KICAgIDxidXR0b24gaWQ9YnA+6LK844KK5LuY44GR44Gm6ZaL44GPPC9idXR0b24+CiAgPC9kaXY+CjwvZGl2Pgo8c2NyaXB0PgpmdW5jdGlvbiBvcGVuQ29udGVudChodG1sKXsgZG9jdW1lbnQub3BlbigpOyBkb2N1bWVudC53cml0ZShodG1sKTsgZG9jdW1lbnQuY2xvc2UoKTsgfQpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmYnKS5vbmNsaWNrPWZ1bmN0aW9uKCl7CiAgY29uc3QgZj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZicpLmZpbGVzWzBdOyBpZighZil7IGFsZXJ0KCflhYjjgavjg5XjgqHjgqTjg6vjgpLpgbjjgpPjgafjga3vvIEnKTsgcmV0dXJuOyB9CiAgY29uc3Qgcj1uZXcgRmlsZVJlYWRlcigpOyByLm9ubG9hZD0oKT0+b3BlbkNvbnRlbnQoci5yZXN1bHQpOyByLnJlYWRBc1RleHQoZik7Cn07CmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdicCcpLm9uY2xpY2s9ZnVuY3Rpb24oKXsKICBjb25zdCBoPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0YScpLnZhbHVlOyBpZighaC50cmltKCkpeyBhbGVydCgnSFRNTOOCkuiyvOOCiuS7mOOBkeOBpuOBre+8gScpOyByZXR1cm47IH0KICBvcGVuQ29udGVudChoKTsKfTsKPC9zY3JpcHQ+CjwvaHRtbD4=UUTF-8OIü<!DOCTYPE html><html lang="ja"><head>
  <meta charset="UTF-8">
  <title>„Å´„ÇÉ„Çì„ÅìÂõ≥ÈëëÔºàÁ¨¨4ÂΩ¢ÊÖãÔºãË©≥Á¥∞„Çπ„ÉÜÂØæÂøúÔºâ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body { font-family: -apple-system, BlinkMacSystemFont,"Segoe UI",Roboto,"Noto Sans JP",sans-serif; padding: 16px; }
    h1 { text-align: center; margin: 8px 0 16px; }
    #add-form { margin-bottom: 16px; }
    .row { display: flex; gap: 8px; flex-wrap: wrap; }
    .row > input, .row > select { flex: 1; min-width: 140px; }
    .form-block { margin: 12px 0; border: 1px solid #ddd; border-radius: 8px; padding: 10px; }
    .form-block h3 { margin: 0 0 8px; }
    button { padding: 8px 12px; border: 1px solid #ccc; border-radius: 6px; background: #fff; }
    button:active { transform: scale(0.98); }
    #cat-list { margin-top: 12px; }
    .cat-card {
      border: 1px solid #aaa; border-radius: 10px; padding: 10px; margin: 8px 0;
      display: flex; align-items: center; justify-content: space-between;
      transition: background 0.15s; gap: 8px;
    }
    .cat-card:hover { background: #f7f7f7; }
    .cat-info { display: flex; align-items: center; gap: 10px; min-width: 0; }
    .cat-card img { width: 60px; height: 60px; object-fit: cover; border-radius: 8px; background: #eee; }
    .cat-text h3 { margin: 0; font-size: 16px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
    .meta { color: #666; font-size: 12px; }
    .card-buttons { display: flex; gap: 6px; }
    .danger { border-color: #e66; color: #b00; }
    .primary { border-color: #2a7; color: #0a5; }
    #modal {
      display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.7);
      justify-content: center; align-items: center; padding: 12px;
    }
    #modal-content {
      background: #fff; width: 100%; max-width: 560px; border-radius: 12px; padding: 16px; max-height: 90vh; overflow: auto;
      animation: fadeIn .2s ease;
    }
    #modal h2 { margin: 0 0 8px; text-align: center; }
    .tabs { display: flex; flex-wrap: wrap; gap: 6px; justify-content: center; margin: 8px 0; }
    .tab-btn { padding: 6px 10px; border-radius: 999px; border: 1px solid #aaa; background: #fff; }
    .tab-btn.active { background: #222; color: #fff; border-color: #222; }
    .detail img { width: 120px; height: 120px; object-fit: cover; display: block; margin: 0 auto 8px; border-radius: 12px; background: #eee; }
    table { width: 100%; border-collapse: collapse; }
    td { border-top: 1px solid #eee; padding: 6px; font-size: 14px; }
    td:first-child { width: 38%; color: #555; }
    .close-wrap { text-align: center; margin-top: 10px; }
    .toolbar { display: flex; gap: 8px; margin: 8px 0 12px; }
    .toolbar input { flex: 1; }
    @keyframes fadeIn { from {opacity:0; transform: translateY(4px);} to {opacity:1; transform: none;} }
  </style>
</head>
<body>
  <h1>üê± „Å´„ÇÉ„Çì„ÅìÂõ≥ÈëëÔºàÁ¨¨4ÂΩ¢ÊÖãÂØæÂøúÔºâ</h1>

  <!-- Ê§úÁ¥¢ & ‰∏¶„Å≥Êõø„Åà -->
  <div class="toolbar">
    <input type="search" id="q" placeholder="Ê§úÁ¥¢ÔºàNo./ÂêçÂâçÈÉ®ÂàÜ‰∏ÄËá¥Ôºâ" oninput="renderList()">
    <select id="sortKey" onchange="renderList()">
      <option value="no">No.È†Ü</option>
      <option value="name">ÂêçÂâçÈ†Ü</option>
      <option value="added">ËøΩÂä†È†Ü</option>
    </select>
  </div>

  <!-- ÂÖ•Âäõ„Éï„Ç©„Éº„É† -->
  <div id="add-form">
    <input type="hidden" id="editIndex">
    <div class="row">
      <input type="text" id="no" inputmode="numeric" placeholder="No.ÔºàÊâãÂÖ•ÂäõÔºâ">
      <input type="text" id="name" placeholder="„Ç≠„É£„É©Âêç">
      <select id="rarity">
        <option value="Âü∫Êú¨">Âü∫Êú¨</option>
        <option value="EX">EX</option>
        <option value="„É¨„Ç¢">„É¨„Ç¢</option>
        <option value="ÊøÄ„É¨„Ç¢">ÊøÄ„É¨„Ç¢</option>
        <option value="Ë∂ÖÊøÄ„É¨„Ç¢">Ë∂ÖÊøÄ„É¨„Ç¢</option>
        <option value="‰ºùË™¨„É¨„Ç¢">‰ºùË™¨„É¨„Ç¢</option>
      </select>
      <button class="primary" onclick="saveCat()">‰øùÂ≠ò</button>
    </div>

    <!-- Á¨¨1„ÄúÁ¨¨4ÂΩ¢ÊÖãÂÖ•ÂäõÊ¨Ñ -->
    <script>
      const stats = ["icon","hp","atk","range","dps","cost","kb","speed","respawn","startup","interval","ability","attribute"];
      function formBlock(i){
        return `
        <div class="form-block">
          <h3>Á¨¨${i}ÂΩ¢ÊÖã</h3>
          <div class="row">
            <input type="text" id="icon${i}" placeholder="„Ç¢„Ç§„Ç≥„É≥URL">
            <input type="number" id="hp${i}" placeholder="‰ΩìÂäõ">
            <input type="number" id="atk${i}" placeholder="ÊîªÊíÉÂäõ">
            <input type="number" id="range${i}" placeholder="Â∞ÑÁ®ã">
          </div>
          <div class="row">
            <input type="number" id="dps${i}" placeholder="DPSÔºàÁ©∫„Å™„ÇâËá™ÂãïË®àÁÆóÔºâ" step="0.1">
            <input type="number" id="cost${i}" placeholder="„Ç≥„Çπ„Éà">
            <input type="number" id="kb${i}" placeholder="KBÊï∞">
            <input type="number" id="speed${i}" placeholder="ÁßªÂãïÈÄüÂ∫¶">
          </div>
          <div class="row">
            <input type="number" id="respawn${i}" placeholder="ÊúÄÁîüÁî£ÊôÇÈñìÔºàÁßíÔºâ" step="0.1">
            <input type="number" id="startup${i}" placeholder="ÊîªÊíÉÁô∫ÁîüÔºàÁßíÔºâ" step="0.01">
            <input type="number" id="interval${i}" placeholder="ÊîªÊíÉÈ†ªÂ∫¶ÔºàÁßíÔºâ" step="0.01">
          </div>
          <div class="row">
            <input type="text" id="ability${i}" placeholder="ËÉΩÂäõ">
            <input type="text" id="attribute${i}" placeholder="ÂØæÂøúÂ±ûÊÄß">
          </div>
        </div>`;
      }
      document.write([1,2,3,4].map(formBlock).join(""));
    </script>
        <div class="form-block">
          <h3>Á¨¨1ÂΩ¢ÊÖã</h3>
          <div class="row">
            <input type="text" id="icon1" placeholder="„Ç¢„Ç§„Ç≥„É≥URL">
            <input type="number" id="hp1" placeholder="‰ΩìÂäõ">
            <input type="number" id="atk1" placeholder="ÊîªÊíÉÂäõ">
            <input type="number" id="range1" placeholder="Â∞ÑÁ®ã">
          </div>
          <div class="row">
            <input type="number" id="dps1" placeholder="DPSÔºàÁ©∫„Å™„ÇâËá™ÂãïË®àÁÆóÔºâ" step="0.1">
            <input type="number" id="cost1" placeholder="„Ç≥„Çπ„Éà">
            <input type="number" id="kb1" placeholder="KBÊï∞">
            <input type="number" id="speed1" placeholder="ÁßªÂãïÈÄüÂ∫¶">
          </div>
          <div class="row">
            <input type="number" id="respawn1" placeholder="ÊúÄÁîüÁî£ÊôÇÈñìÔºàÁßíÔºâ" step="0.1">
            <input type="number" id="startup1" placeholder="ÊîªÊíÉÁô∫ÁîüÔºàÁßíÔºâ" step="0.01">
            <input type="number" id="interval1" placeholder="ÊîªÊíÉÈ†ªÂ∫¶ÔºàÁßíÔºâ" step="0.01">
          </div>
          <div class="row">
            <input type="text" id="ability1" placeholder="ËÉΩÂäõ">
            <input type="text" id="attribute1" placeholder="ÂØæÂøúÂ±ûÊÄß">
          </div>
        </div>
        <div class="form-block">
          <h3>Á¨¨2ÂΩ¢ÊÖã</h3>
          <div class="row">
            <input type="text" id="icon2" placeholder="„Ç¢„Ç§„Ç≥„É≥URL">
            <input type="number" id="hp2" placeholder="‰ΩìÂäõ">
            <input type="number" id="atk2" placeholder="ÊîªÊíÉÂäõ">
            <input type="number" id="range2" placeholder="Â∞ÑÁ®ã">
          </div>
          <div class="row">
            <input type="number" id="dps2" placeholder="DPSÔºàÁ©∫„Å™„ÇâËá™ÂãïË®àÁÆóÔºâ" step="0.1">
            <input type="number" id="cost2" placeholder="„Ç≥„Çπ„Éà">
            <input type="number" id="kb2" placeholder="KBÊï∞">
            <input type="number" id="speed2" placeholder="ÁßªÂãïÈÄüÂ∫¶">
          </div>
          <div class="row">
            <input type="number" id="respawn2" placeholder="ÊúÄÁîüÁî£ÊôÇÈñìÔºàÁßíÔºâ" step="0.1">
            <input type="number" id="startup2" placeholder="ÊîªÊíÉÁô∫ÁîüÔºàÁßíÔºâ" step="0.01">
            <input type="number" id="interval2" placeholder="ÊîªÊíÉÈ†ªÂ∫¶ÔºàÁßíÔºâ" step="0.01">
          </div>
          <div class="row">
            <input type="text" id="ability2" placeholder="ËÉΩÂäõ">
            <input type="text" id="attribute2" placeholder="ÂØæÂøúÂ±ûÊÄß">
          </div>
        </div>
        <div class="form-block">
          <h3>Á¨¨3ÂΩ¢ÊÖã</h3>
          <div class="row">
            <input type="text" id="icon3" placeholder="„Ç¢„Ç§„Ç≥„É≥URL">
            <input type="number" id="hp3" placeholder="‰ΩìÂäõ">
            <input type="number" id="atk3" placeholder="ÊîªÊíÉÂäõ">
            <input type="number" id="range3" placeholder="Â∞ÑÁ®ã">
          </div>
          <div class="row">
            <input type="number" id="dps3" placeholder="DPSÔºàÁ©∫„Å™„ÇâËá™ÂãïË®àÁÆóÔºâ" step="0.1">
            <input type="number" id="cost3" placeholder="„Ç≥„Çπ„Éà">
            <input type="number" id="kb3" placeholder="KBÊï∞">
            <input type="number" id="speed3" placeholder="ÁßªÂãïÈÄüÂ∫¶">
          </div>
          <div class="row">
            <input type="number" id="respawn3" placeholder="ÊúÄÁîüÁî£ÊôÇÈñìÔºàÁßíÔºâ" step="0.1">
            <input type="number" id="startup3" placeholder="ÊîªÊíÉÁô∫ÁîüÔºàÁßíÔºâ" step="0.01">
            <input type="number" id="interval3" placeholder="ÊîªÊíÉÈ†ªÂ∫¶ÔºàÁßíÔºâ" step="0.01">
          </div>
          <div class="row">
            <input type="text" id="ability3" placeholder="ËÉΩÂäõ">
            <input type="text" id="attribute3" placeholder="ÂØæÂøúÂ±ûÊÄß">
          </div>
        </div>
        <div class="form-block">
          <h3>Á¨¨4ÂΩ¢ÊÖã</h3>
          <div class="row">
            <input type="text" id="icon4" placeholder="„Ç¢„Ç§„Ç≥„É≥URL">
            <input type="number" id="hp4" placeholder="‰ΩìÂäõ">
            <input type="number" id="atk4" placeholder="ÊîªÊíÉÂäõ">
            <input type="number" id="range4" placeholder="Â∞ÑÁ®ã">
          </div>
          <div class="row">
            <input type="number" id="dps4" placeholder="DPSÔºàÁ©∫„Å™„ÇâËá™ÂãïË®àÁÆóÔºâ" step="0.1">
            <input type="number" id="cost4" placeholder="„Ç≥„Çπ„Éà">
            <input type="number" id="kb4" placeholder="KBÊï∞">
            <input type="number" id="speed4" placeholder="ÁßªÂãïÈÄüÂ∫¶">
          </div>
          <div class="row">
            <input type="number" id="respawn4" placeholder="ÊúÄÁîüÁî£ÊôÇÈñìÔºàÁßíÔºâ" step="0.1">
            <input type="number" id="startup4" placeholder="ÊîªÊíÉÁô∫ÁîüÔºàÁßíÔºâ" step="0.01">
            <input type="number" id="interval4" placeholder="ÊîªÊíÉÈ†ªÂ∫¶ÔºàÁßíÔºâ" step="0.01">
          </div>
          <div class="row">
            <input type="text" id="ability4" placeholder="ËÉΩÂäõ">
            <input type="text" id="attribute4" placeholder="ÂØæÂøúÂ±ûÊÄß">
          </div>
        </div>
  </div>

  <!-- ‰∏ÄË¶ß -->
  <div id="cat-list"><div class="cat-card"><div class="cat-info"><img src="https://via.placeholder.com/60"><div class="cat-text"><h3>No.1 „Éç„Ç≥</h3><div class="meta">Âü∫Êú¨ Ôºè ÂΩ¢ÊÖã:4</div></div></div><div class="card-buttons"><button>‰øÆÊ≠£</button><button class="danger">ÂâäÈô§</button></div></div></div>

  <!-- „É¢„Éº„ÉÄ„É´ -->
  <div id="modal">
    <div id="modal-content">
      <h2 id="m-name"></h2>
      <div class="meta" id="m-meta" style="text-align:center;"></div>
      <div class="tabs" id="tabs"></div>
      <div class="detail" id="form-detail"></div>
      <div class="close-wrap"><button onclick="closeModal()">Èñâ„Åò„Çã</button></div>
    </div>
  </div>

  <script>
    let cats = [];
    window.onload = () => { const saved = localStorage.getItem("cats"); if (saved) cats = JSON.parse(saved); renderList(); };
    function save(){ localStorage.setItem("cats", JSON.stringify(cats)); }
    function toNum(v){ return v===""?null:Number(v); }

    function collectForm(i){
      return {
        icon: document.getElementById("icon"+i).value.trim(),
        hp: toNum(document.getElementById("hp"+i).value),
        atk: toNum(document.getElementById("atk"+i).value),
        range: toNum(document.getElementById("range"+i).value),
        dps: toNum(document.getElementById("dps"+i).value),
        cost: toNum(document.getElementById("cost"+i).value),
        kb: toNum(document.getElementById("kb"+i).value),
        speed: toNum(document.getElementById("speed"+i).value),
        respawn: toNum(document.getElementById("respawn"+i).value),
        startup: toNum(document.getElementById("startup"+i).value),
        interval: toNum(document.getElementById("interval"+i).value),
        ability: document.getElementById("ability"+i).value.trim(),
        attribute: document.getElementById("attribute"+i).value.trim()
      };
    }

    function resetForm(){
      document.getElementById("editIndex").value="";
      document.querySelectorAll("#add-form input").forEach(el=>{ if(el.type!=="hidden") el.value=""; });
      document.getElementById("rarity").value="Âü∫Êú¨";
    }

    function saveCat(){
      const no=document.getElementById("no").value.trim();
      const name=document.getElementById("name").value.trim();
      const rarity=document.getElementById("rarity").value;
      if(!name) return alert("„Ç≠„É£„É©Âêç„ÇíÂÖ•Âäõ„Åó„Å¶„Å≠ÔºÅ");
      const forms=[1,2,3,4].map(collectForm);
      const payload={no:no||null,name,rarity,forms,addedAt:Date.now()};
      const idx=document.getElementById("editIndex").value;
      if(idx!=="") cats[Number(idx)]=payload; else cats.push(payload);
      save(); renderList(); resetForm();
    }

    function editCat(i,e){
      if(e) e.stopPropagation();
      const c=cats[i];
      document.getElementById("editIndex").value=i;
      document.getElementById("no").value=c.no??"";
      document.getElementById("name").value=c.name;
      document.getElementById("rarity").value=c.rarity;
      c.forms.forEach((f,idx)=>{
        const n=idx+1;
        document.getElementById("icon"+n).value=f.icon||"";
        document.getElementById("hp"+n).value=f.hp??"";
        document.getElementById("atk"+n).value=f.atk??"";
        document.getElementById("range"+n).value=f.range??"";
        document.getElementById("dps"+n).value=f.dps??"";
        document.getElementById("cost"+n).value=f.cost??"";
        document.getElementById("kb"+n).value=f.kb??"";
        document.getElementById("speed"+n).value=f.speed??"";
        document.getElementById("respawn"+n).value=f.respawn??"";
        document.getElementById("startup"+n).value=f.startup??"";
        document.getElementById("interval"+n).value=f.interval??"";
        document.getElementById("ability"+n).value=f.ability||"";
        document.getElementById("attribute"+n).value=f.attribute||"";
      });
      window.scrollTo({top:0,behavior:"smooth"});
    }

    function deleteCat(i,e){
      if(e) e.stopPropagation();
      if(confirm("„Åì„ÅÆ„Ç≠„É£„É©„ÇíÂâäÈô§„Åó„Åæ„Åô„ÅãÔºü")){ cats.splice(i,1); save(); renderList(); }
    }

    function filtered(){
      const q=document.getElementById("q").value.trim();
      let arr=cats.slice();
      if(q) arr=arr.filter(c=>(c.name&&c.name.includes(q))||(c.no&&c.no.includes(q)));
      const sortKey=document.getElementById("sortKey").value;
      if(sortKey==="name") arr.sort((a,b)=>(a.name||"").localeCompare(b.name||""));
      else if(sortKey==="no") arr.sort((a,b)=>(Number(a.no)||Infinity)-(Number(b.no)||Infinity));
      else arr.sort((a,b)=>(a.addedAt||0)-(b.addedAt||0));
      return arr;
    }

    function renderList(){
      const list=document.getElementById("cat-list"); list.innerHTML="";
      filtered().forEach((c,i)=>{
        const card=document.createElement("div"); card.className="cat-card"; card.onclick=()=>openModal(c);
        const left=document.createElement("div"); left.className="cat-info";
        const img=document.createElement("img"); img.src=c.forms?.[0]?.icon||"https://via.placeholder.com/60";
        const text=document.createElement("div"); text.className="cat-text";
        text.innerHTML=`<h3>${c.no?`No.${c.no} `:""}${c.name}</h3><div class="meta">${c.rarity||""} Ôºè ÂΩ¢ÊÖã:${c.forms?.length||0}</div>`;
        left.appendChild(img); left.appendChild(text);
        const right=document.createElement("div"); right.className="card-buttons";
        const eb=document.createElement("button"); eb.textContent="‰øÆÊ≠£"; eb.onclick=(ev)=>editCat(i,ev);
        const db=document.createElement("button"); db.textContent="ÂâäÈô§"; db.className="danger"; db.onclick=(ev)=>deleteCat(i,ev);
        right.appendChild(eb); right.appendChild(db);
        card.appendChild(left); card.appendChild(right);
        list.appendChild(card);
      });
    }

    function openModal(cat){
      document.getElementById("m-name").textContent=(cat.no?`No.${cat.no} `:"")+cat.name;
      document.getElementById("m-meta").textContent=`„É¨„Ç¢„É™„ÉÜ„Ç£Ôºö${cat.rarity}`;
      const tabs=document.getElementById("tabs"); const detail=document.getElementById("form-detail");
      tabs.innerHTML=""; detail.innerHTML="";
      cat.forms.forEach((f,i)=>{
        const b=document.createElement("button"); b.className="tab-btn"; b.textContent=`Á¨¨${i+1}ÂΩ¢ÊÖã`;
        b.onclick=()=>showForm(f,i); tabs.appendChild(b);
      });
      showForm(cat.forms[0],0);
      document.getElementById("modal").style.display="flex";
    }

    function calcDps(f){ if(!f) return "-"; if(f.dps) return f.dps; if(f.atk&&f.interval) return (f.atk/f.interval).toFixed(1); return "-"; }
    function fmt(v,u=""){ return (v===null||v===undefined||v==="")?"-":v+u; }
    function escapeHtml(s){ return (s||"").replace(/[&<>"']/g,m=>({"&":"&amp;","<":"&lt;",">":"&gt;","\"":"&quot;","'":"&#39;"}[m])); }

    function showForm(f={},i=0){
      document.querySelectorAll(".tab-btn").forEach(b=>b.classList.remove("active"));
      if(document.querySelectorAll(".tab-btn")[i]) document.querySelectorAll(".tab-btn")[i].classList.add("active");
      const icon=f.icon||"https://via.placeholder.com/120";
      document.getElementById("form-detail").innerHTML=`
        <img src="${icon}">
        <table>
          <tr><td>‰ΩìÂäõ</td><td>${fmt(f.hp)}</td></tr>
          <tr><td>ÊîªÊíÉÂäõ</td><td>${fmt(f.atk)}</td></tr>
          <tr><td>DPS</td><td>${calcDps(f)}</td></tr>
          <tr><td>Â∞ÑÁ®ã</td><td>${fmt(f.range)}</td></tr>
          <tr><td>„Ç≥„Çπ„Éà</td><td>${fmt(f.cost)}</td></tr>
          <tr><td>KBÊï∞</td><td>${fmt(f.kb)}</td></tr>
          <tr><td>ÁßªÂãïÈÄüÂ∫¶</td><td>${fmt(f.speed)}</td></tr>
          <tr><td>ÊúÄÁîüÁî£ÊôÇÈñì</td><td>${fmt(f.respawn,"Áßí")}</td></tr>
          <tr><td>ÊîªÊíÉÁô∫Áîü</td><td>${fmt(f.startup,"Áßí")}</td></tr>
          <tr><td>ÊîªÊíÉÈ†ªÂ∫¶</td><td>${fmt(f.interval,"Áßí")}</td></tr>
          <tr><td>ËÉΩÂäõ</td><td>${escapeHtml(f.ability||"")}</td></tr>
          <tr><td>ÂØæÂøúÂ±ûÊÄß</td><td>${escapeHtml(f.attribute||"")}</td></tr>
        </table>`;
    }
    function closeModal(){ document.getElementById("modal").style.display="none"; }
  </script>

</body></html>Ytext/htmlP    ( 7 U g } îT´Tµ                           T∂